{"version":3,"sources":["components/MovieCard/MovieCard.js","components/MoviesList/MoviesList.js","components/NewMovie/NewMovie.js","App.js","index.js"],"names":["MovieCard","title","description","imgUrl","imdbUrl","className","src","alt","href","defaultProps","MoviesList","movies","map","movie","key","imdbId","NewMovie","state","values","errors","maxlength","charsLeft","handleChange","event","target","name","value","type","persist","setState","replace","length","handleBlur","validate","props","rest","error","handleSubmit","onAdd","initialValues","preventDefault","formValidation","Object","keys","reduce","acc","newError","this","onSubmit","autoComplete","placeholder","onChange","onBlur","maxLength","disabled","Component","default","App","moviesFromServer","titleOrIdValidation","url","urlValidation","id","addMovie","fieldName","fieldValue","trim","test","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bf7c7637.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport './MovieCard.scss';\n\nexport const MovieCard = ({ title, description, imgUrl, imdbUrl }) => (\n  <div className=\"card\">\n    <div className=\"card-image\">\n      <figure className=\"image is-4by3\">\n        <img\n          src={imgUrl}\n          alt=\"Film logo\"\n        />\n      </figure>\n    </div>\n    <div className=\"card-content\">\n      <div className=\"media\">\n        <div className=\"media-left\">\n          <figure className=\"image is-48x48\">\n            <img\n              src=\"images/imdb-logo.jpeg\"\n              alt=\"imdb\"\n            />\n          </figure>\n        </div>\n        <div className=\"media-content\">\n          <p className=\"title is-8\">{title}</p>\n        </div>\n      </div>\n\n      <div className=\"content\">\n        {description}\n        <br />\n        <a href={imdbUrl}>IMDB</a>\n      </div>\n    </div>\n  </div>\n);\n\nMovieCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  imgUrl: PropTypes.string.isRequired,\n  imdbUrl: PropTypes.string.isRequired,\n};\n\nMovieCard.defaultProps = {\n  description: '',\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './MoviesList.scss';\nimport { MovieCard } from '../MovieCard';\n\nexport const MoviesList = ({ movies }) => (\n  <div className=\"movies\">\n    {movies.map(movie => (\n      <MovieCard key={movie.imdbId} {...movie} />\n    ))}\n  </div>\n);\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      description: PropTypes.string,\n      imgUrl: PropTypes.string.isRequired,\n      imdbUrl: PropTypes.string.isRequired,\n    }),\n  ),\n};\n\nMoviesList.defaultProps = {\n  movies: [],\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport './NewMovie.scss';\n\nexport class NewMovie extends Component {\n  state = {\n    values: {\n      imdbId: '',\n      title: '',\n      description: '',\n      imgUrl: '',\n      imdbUrl: '',\n    },\n    errors: {},\n    maxlength: 30,\n    charsLeft: 30,\n  };\n\n  handleChange = (event) => {\n    const { name, value, type } = event.target;\n    const { maxlength } = this.state;\n\n    event.persist();\n\n    this.setState(state => ({\n      values: {\n        ...state.values,\n        [name]: type === 'text' ? value.replace(/^\\s/g, '') : value,\n      },\n      charsLeft: type === 'text' && name === 'title'\n        ? maxlength - value.length\n        : state.charsLeft,\n    }));\n  }\n\n  handleBlur = (event) => {\n    const { name, value } = event.target;\n    const { validate } = this.props;\n    const { errors } = this.state;\n\n    const { [name]: removedError, ...rest } = errors;\n    const error = validate[name](value);\n\n    this.setState({\n      errors: {\n        ...rest,\n        ...(error && { [name]: error }),\n      },\n    });\n  };\n\n  handleSubmit = (event) => {\n    const { values, errors, maxlength } = this.state;\n    const { validate, onAdd, initialValues } = this.props;\n\n    event.preventDefault();\n\n    const formValidation = Object.keys(values).reduce(\n      (acc, key) => {\n        const isDescriptionKey = key === 'description';\n        const newError = isDescriptionKey ? null : validate[key](values[key]);\n\n        return {\n          errors: {\n            ...acc.errors,\n            ...(newError && { [key]: newError }),\n          },\n        };\n      },\n      {\n        errors: { ...errors },\n      },\n    );\n\n    this.setState({\n      errors: formValidation.errors,\n    });\n\n    if (\n      !Object.values(formValidation.errors).length // errors object is empty\n    ) {\n      onAdd(values);\n      this.setState({\n        values: initialValues,\n        charsLeft: maxlength,\n      });\n    }\n  };\n\n  render() {\n    const {\n      maxlength,\n      charsLeft,\n      values,\n      errors,\n    } = this.state;\n\n    return (\n      <div className=\"newMovie\">\n        <form onSubmit={this.handleSubmit} autoComplete=\"off\">\n          <div>\n            <input\n              type=\"text\"\n              name=\"imdbId\"\n              className={errors.imdbId ? 'error' : ''}\n              value={values.imdbId}\n              placeholder=\"Please enter a ID\"\n              onChange={this.handleChange}\n              onBlur={this.handleBlur}\n            />\n            {errors.imdbId && (\n              <div className=\"errorText\">\n                {errors.imdbId}\n              </div>\n            )}\n          </div>\n          <div>\n            <input\n              type=\"text\"\n              name=\"title\"\n              maxLength={maxlength}\n              className={errors.title ? 'error' : ''}\n              value={values.title}\n              placeholder=\"Please enter a title\"\n              onChange={this.handleChange}\n              onBlur={this.handleBlur}\n            />\n            <p>\n              Characters Left:\n              {' '}\n              { charsLeft }\n            </p>\n            {errors.title && (\n            <div className=\"errorText\">\n              {errors.title}\n            </div>\n            )}\n          </div>\n          <div>\n            <textarea\n              name=\"description\"\n              value={values.description}\n              placeholder=\"Please enter a description\"\n              onChange={this.handleChange}\n            />\n          </div>\n          <div>\n            <input\n              type=\"text\"\n              name=\"imgUrl\"\n              className={errors.imgUrl ? 'error' : ''}\n              value={values.imgUrl}\n              placeholder=\"Please enter a image Url\"\n              onChange={this.handleChange}\n              onBlur={this.handleBlur}\n            />\n            {errors.imgUrl && (\n            <div className=\"errorText\">\n              {errors.imgUrl}\n            </div>\n            )}\n          </div>\n          <div>\n            <input\n              type=\"text\"\n              name=\"imdbUrl\"\n              className={errors.imdbUrl ? 'error' : ''}\n              value={values.imdbUrl}\n              placeholder=\"Please enter a Imdb Url\"\n              onChange={this.handleChange}\n              onBlur={this.handleBlur}\n            />\n            {errors.imdbUrl && (\n            <div className=\"errorText\">\n              {errors.imdbUrl}\n            </div>\n            )}\n          </div>\n          <button\n            className=\"add\"\n            type=\"submit\"\n            disabled={Object.keys(errors).length !== 0}\n          >\n            Add\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nNewMovie.propTypes = {\n  onAdd: PropTypes.func.isRequired,\n  initialValues: PropTypes.shape().isRequired,\n  validate: PropTypes.shape().isRequired,\n};\n\nNewMovie.default = {\n  description: '',\n};\n","import React, { Component } from 'react';\nimport './App.scss';\nimport { MoviesList } from './components/MoviesList';\nimport { NewMovie } from './components/NewMovie';\nimport moviesFromServer from './api/movies.json';\n\nexport class App extends Component {\n  state = {\n    movies: moviesFromServer,\n  };\n\n  validate = {\n    title: title => this.titleOrIdValidation('Title', title),\n    imgUrl: url => this.urlValidation(url),\n    imdbUrl: url => this.urlValidation(url),\n    imdbId: id => this.titleOrIdValidation('ID', id),\n  };\n\n  initialValues = {\n    title: '',\n    description: '',\n    imgUrl: '',\n    imdbUrl: '',\n    imdbId: '',\n  };\n\n  addMovie = (movie) => {\n    this.setState(state => ({\n      movies: [...state.movies, movie],\n    }));\n  };\n\n  titleOrIdValidation = (fieldName, fieldValue) => {\n    if (fieldValue.trim() === '') {\n      return `${fieldName} is required`;\n    }\n\n    if (fieldName === 'Title' && /[^a-zA-Z -]/.test(fieldValue)) {\n      return 'Invalid characters';\n    }\n\n    if (fieldValue.trim().length < 1) {\n      return `${fieldName} needs to be at least one characters`;\n    }\n\n    return null;\n  };\n\n  urlValidation = (url) => {\n    if (\n      // eslint-disable-next-line max-len\n      /^((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=+$,\\w]+@)?[A-Za-z0-9.-]+|(?:www\\.|[-;:&=+$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[+~%/.\\w-_]*)?\\??(?:[-+=&;%@.\\w_]*)#?(?:[.!/\\\\\\w]*))?)$/.test(\n        url,\n      )\n    ) {\n      return null;\n    }\n\n    if (url.trim() === '') {\n      return 'Url is required';\n    }\n\n    return 'Please enter a valid Url';\n  };\n\n  render() {\n    const { movies } = this.state;\n\n    return (\n      <div className=\"page\">\n        <div className=\"page-content\">\n          <MoviesList movies={movies} />\n        </div>\n        <div className=\"sidebar\">\n          <NewMovie\n            onAdd={this.addMovie}\n            validate={this.validate}\n            initialValues={this.initialValues}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bulma/css/bulma.css';\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}